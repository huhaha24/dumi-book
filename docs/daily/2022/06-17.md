---
title: 06-17
order: 2
toc: content
---

## è¿™ä¸¤ç§æ–¹å¼æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡çš„æ–¹å¼æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

```js
// æ–¹å¼ä¸€
function Person1() {}

Person1.prototype.name = 'huhu';
Person1.prototype.age = 18;
Person1.prototype.getName = function () {
  console.log('My name is ', this.name);
};

const person1 = new Person1();

// æ–¹å¼äºŒ
function Person2() {}

Person2.prototype = {
  name: 'huhu',
  age: 18,
  getName: function () {
    console.log('My name is ', this.name);
  },
};

const person2 = new Person2();
```

### é—®é¢˜è§£æ

åŒºåˆ«åœ¨äºï¼Œ`Person2.prototype.constructor !== Person2`ï¼Œä¹Ÿå°±æ˜¯è¯´ Person2 çš„åŸå‹æ„é€ å‡½æ•°ä¸å†æ˜¯ Person2
çº³å°¼ï¼Ÿ

ä»”ç»†çœ‹ï¼Œä½ ä¼šå‘ç°æ–¹å¼äºŒæ˜¯é€šè¿‡èµ‹å€¼ä¸€ä¸ªæ–°å¯¹è±¡æ¥å®šä¹‰åŸå‹ä¸Šå±æ€§çš„ï¼Œè€Œæ–¹å¼ä¸€æ˜¯ç›´æ¥èµ‹å€¼

è¿™é‡Œæ˜¯ä½¿ç”¨å­—é¢é‡å»åˆ›å»ºå¯¹è±¡çš„ï¼Œç­‰ä»·äºä½¿ç”¨`new Object()`ï¼Œè€Œæ¯åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œéƒ½ä¼šæœ‰ä¸€ä¸ªæ–°çš„`prototype`ï¼Œæ­¤æ—¶æ–°çš„`prototype`æŒ‡å‘`Object`ï¼Œä¹Ÿå°±æ˜¯è¯´`Person2.prototype.constructor === Object`

### æ£€æµ‹æ„é€ å‡½æ•°

```js
console.log(person2 instanceof Person2); // true
console.log(person2.constructor === Person2); // false
console.log(person2.constructor === Object); // true
```

ç–‘é—® ğŸ¤”ï¸ï¼šä¸ºä»€ä¹ˆè¿™é‡Œ instanceof ä¼šè¿”å› trueï¼Ÿï¼ˆåé¢å­¦ä¹ äº†åŸå‹é“¾å†å›æ¥ï¼‰

### æ”¹å˜ constructor æŒ‡å‘

```js
function Person2() {}

// 1ã€ç›´æ¥æ”¹
Person2.prototype = {
  constructor: Person2,
  name: 'huhu',
  age: 18,
  getName: function () {
    console.log('My name is ', this.name);
  },
};

// 2ã€ä½¿ç”¨Object.definePrototype()
Person2.prototype = {
  name: 'huhu',
  age: 18,
  getName: function () {
    console.log('My name is ', this.name);
  },
};

Object.definePrototype(Person2.prototype, 'constructor', {
  enumerable: false,
  value: Person2,
});
```
